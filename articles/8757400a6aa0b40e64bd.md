---
title: "Typescript „Åß Âûã(ÊßãÈÄ†‰Ωì) „ÅÆ‰∏ÄËá¥„ÇíÂà§ÂÆö„Åô„Çã (Class, Interface, Type)"
emoji: "üï∂Ô∏è"
type: "tech"
topics: ["typescript", "interface"]
published: true
---

# „ÇÑ„Çä„Åü„ÅÑ„Åì„Å®

„Å®„ÅÇ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå `Class`„ÄÅ `Interface` „Åæ„Åü„ÅØ `Type` „ÅÆÂûã„ÇíÊ∫Ä„Åü„Åô„ÅÆ„ÅãÂà§ÂÆö„Åó„Åü„ÅÑ„ÄÇ

## „Ç≥„Éº„Éâ„Åß

„Åì„Çì„Å™ÊÑü„Åò„ÅÆ„Ç§„É°„Éº„Ç∏

```ts
class Target {
    id: number = 0;
    name: string = "taro";
}

const obj = {
    id: 3,
    name: "jiro",
}

type isTarget = (arg: unknown) => boolean;

console.log(isTarget(obj))
// => true
```

# „Éù„Ç§„É≥„Éà

## 1\. typeof

### [**typeof**](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/typeof) „ÅßÂà§ÂÆö„Åß„Åç„Çã„ÅÆ„ÅØ `object | boolean | number | string | undefined | function` Á≠â„Åß„ÄÅÊßãÈÄ†„ÅÆÂà§ÂÆö„Å´„ÅØ‰Ωø„Åà„Å™„ÅÑ

‰ªäÂõû„ÅØ„ÄÅClass, Interface, Type „ÅÆÂà§ÂÆö„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß„ÄÅ„Åì„Çå„Å†„Åë„ÅßÁõ¥Êé•Âà§ÂÆö„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Å™„ÅÑ„ÄÇ

## 2\. instanceof

### [**instanceof**](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof) „ÅØ„ÄÅ„ÇØ„É©„Çπ„Ç§„É≥„Çπ„Çø„É≥„Çπ(‰æã: `new Target()`)„ÅÆÂà§ÂÆö„Åã„Å§„ÄÅÂà§ÂÆöÂÖà„Åå„ÇØ„É©„Çπ(‰æã: `class Target {}`)„ÅÆÊôÇ„Å´‰ΩøÁî®„Åß„Åç„Çã„ÄÇ

> instanceof ÊºîÁÆóÂ≠ê„ÅØ„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåËá™Ë∫´„ÅÆ„Éó„É≠„Éà„Çø„Ç§„Éó„Å´„Ç≥„É≥„Çπ„Éà„É©„ÇØ„Çø„ÅÆ prototype „Éó„É≠„Éë„ÉÜ„Ç£„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„Åã„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ  
> [https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof)

„Åì„Åì„Åã„Çâ„Çè„Åã„Çã„Çà„ÅÜ„Å´„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÊßãÈÄ†Ëá™‰Ωì„ÇíÁõ¥Êé•Ê§úË®º„Åó„Å¶„ÅÑ„Çã„Çè„Åë„Åß„ÅØ„Å™„ÅÑ„Åì„Å®„Å´Ê≥®ÊÑè„Åô„Çã„ÄÇ

## 3\. „É¶„Éº„Ç∂„ÉºÂÆöÁæ©Âûã„Ç¨„Éº„Éâ

### **1, 2** „Åå‰Ωø„Åà„Å™„ÅÑÊßãÈÄ†„ÅÆ‰∏ÄËá¥Âà§ÂÆö„ÅØ [**„É¶„Éº„Ç∂„ÉºÂÆöÁæ©Âûã„Ç¨„Éº„Éâ**](https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard) „ÅÆ‰ªïÁµÑ„Åø„Çí‰Ωø„ÅÜ„Åπ„Åó

> JavaScript„Å´„ÅØÈùûÂ∏∏„Å´Ë±äÂØå„Å™ÂÆüË°åÊôÇ„ÅÆËß£Êûê„Çµ„Éù„Éº„Éà„ÅåÁµÑ„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇÂçòÁ¥î„Å™JavaScript„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å†„Åë„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà(ÊßãÈÄ†Âûã„Çí‰ΩøÁî®„Åô„ÇãÂ†¥Âêà)„ÄÅ instanceof„Åæ„Åü„ÅØtypeof„Å´„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Åì„Å®„Åï„Åà„Åß„Åç„Åæ„Åõ„Çì„ÄÇ  
> [https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard](https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard)

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÜÖÈÉ®ÊßãÈÄ†„ÇíÊ§úË®º„Åó„Å¶Âûã„ÅÆ‰∏ÄËá¥„ÇíÁ¢∫Ë™ç„Åó„Åü„ÅÑÂ†¥Âêà„ÄÅ„Åì„ÅÆÊñπÊ≥ï„Çí‰Ωø„ÅÜ„Åì„Å®„Å´„Å™„Çã„ÄÇ

# Âà§ÂÆö„Åó„Å¶„Åø„Çã

„ÉÜ„Çπ„Éà„ÉÑ„Éº„É´„Å´„ÅØ [Jest](https://jestjs.io/) „Çí‰ΩøÁî®„Åô„Çã„ÄÇ

## Class „ÅÆÂà§ÂÆö

instanceof „Çí‰Ωø„ÅÜ„ÄÇ

```ts
describe("ÂûãÊ§úË®º", () => {
    // Ê§úË®ºÂÖà„ÅØ„ÇØ„É©„Çπ
    class Target {
        id: number = 0;
        name: string = "taro";
    }
    it("„Éù„Ç§„É≥„Éà2„ÅÆÊñπÊ≥ï„Åå‰Ωø„Åà„Çã", () => {
        const target = new Target();
        expect(target instanceof Target).toBeTruthy();
    });
}
```

## Interface, Type, Class „ÅÆÂà§ÂÆö

**„É¶„Éº„Ç∂„ÉºÂÆöÁæ©Âûã„Ç¨„Éº„Éâ** „Å® **typeof** „ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶Ê§úË®º„Åô„Çã„ÄÇ

### Âûã„ÅÆÂÆöÁæ©

„Åæ„Åö„ÅØ„ÄÅÊ§úË®º„ÇíË°å„ÅÑ„Åü„ÅÑÂûã„ÇíÂÆöÁæ©„Åô„Çã„ÄÇ

```ts
// Class „ÅÆ‰ªñ„Å´„ÄÅInterface, Type „ÅßÊõ∏„Åë„Çã
class Target {
    id: number =0;
    name: string = "taro";
}
// interface Target {
//     id: number;
//     name: string;
// }
// type Target = {
//     id: number;
//     name: string;
// }
```

### „É¶„Éº„Ç∂„ÉºÂÆöÁæ©Âûã„Ç¨„Éº„Éâ „ÅÆ‰ΩúÊàê

ÊßãÈÄ†‰Ωì„ÅÆÂûã„ÇíÊ§úË®º„Åô„Çã„Åü„ÇÅ„ÅÆ **„É¶„Éº„Ç∂„ÉºÂÆöÁæ©Âûã„Ç¨„Éº„Éâ** „ÇíÂÆüË£Ö„Åô„Çã„ÄÇ

!

„Éù„Ç§„É≥„Éà

-   „Éó„É≠„Éë„ÉÜ„Ç£„ÅåÂ≠òÂú®„Åô„Çã„Åì„Å®„ÅÆÁ¢∫Ë™ç
-   „Éó„É≠„Éë„ÉÜ„Ç£„ÅÆÂûã‰∏ÄËá¥Á¢∫Ë™ç

```ts
const isTarget = (arg: unknown): arg is Target =>
    typeof arg === "object" &&
    arg !== null &&
    // as Target „ÅßÂûã„ÅÆ‰∫àÊ∏¨„ÇíÂäπ„Åã„Åõ„Å¶ typo „ÇíÈò≤„Åê
    typeof (arg as Target).id === "number" &&
    typeof (arg as Target).name === "string";
```

### Ê§úË®º„Åó„Å¶„Åø„Çã

#### Valid

```ts
// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
const validObj = {
    id: 1,
    name: "saburo",
};
```

```ts
// Ê§úË®º
it("valid", () => {
    expected(isTarget(validObj)).toBeTruthy();
    // „Åì„Åì„Åã„Çâ validObj „Çí Target Âûã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®„Åó„Å¶ÂûãÊé®Ë´ñ„Åå‰Ωø„Åà„Çã
    expect(validObj.id).toBe(1);
    expect(validObj.name).toBe("saburo");
})
```

#### InValid

```ts
// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
const invalidObj = {
    a: "invalid",
    b: "jiro",
};
```

```ts
// Ê§úË®º
it("invalid", () => {
    expect(isTarget(validObj)).toBeFalsy();
})
```

# „Åï„ÅÑ„Åî„Å´

„Åì„Çå„Åß„ÄÅTypescript „ÅÆÂûã„Å®„Åæ„Åü‰∏ÄÊ≠©‰ª≤ËâØ„Åè„Å™„Çå„Åü„ÄÇ

# ‰ΩøÁî®„Åó„Åü„ÉÜ„Çπ„Éà„ÅÆÂÖ®‰Ωì

„ÉÜ„Çπ„Éà„Ç≥„Éº„Éâ

```ts
describe("ÂûãÊ§úË®º", () => {
    // Class „ÅÆ‰ªñ„Å´„ÄÅInterface, Type „ÅßÊõ∏„Åë„Çã
    class Target {
        id: number = 0;
        name: string = "taro";
    }
    // interface Target {
    //     id: number;
    //     name: string;
    // }
    // type Target = {
    //     id: number;
    //     name: string;
    // }
    describe("structure match", () => {
        const isTarget = (arg: unknown): arg is Target =>
            typeof arg === "object" &&
            arg !== null &&
            typeof (arg as Target).id === "number" &&
            typeof (arg as Target).name === "string";
        describe("valid", () => {
            const validObj = {
                id: 1,
                name: "taro",
            };
            const returnTarget = (target: Target): Target => target;
            it("instanceof(Target „Åå Class „ÅÆÂ†¥Âêà„Å´„ÅØ„ÄÅ„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº„Å®„Å™„Çã)", () => {
                expect(returnTarget(validObj) instanceof Target).toBeFalsy();
            });
            it("guard", () => {
                expect(isTarget(validObj)).toBeTruthy();
            });
        });
        describe("invalid", () => {
            const invalidObj = {
                id: true,
                name: "fuga",
            };
            it("instanceof(Target „Åå Class „ÅÆÂ†¥Âêà„Å´„ÅØ„ÄÅ„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº„Å®„Å™„Çã)", () => {
                expect(invalidObj instanceof Target).toBeFalsy();
            });
            it("guard", () => {
                expect(isTarget(invalidObj)).toBeFalsy();
            });
        });
        describe("extended", () => {
            const extendedValidObj = {
                id: 2,
                name: "saburo",
                c: "fuga",
            };
            it("instanceof(Target „Åå Class „ÅÆÂ†¥Âêà„Å´„ÅØ„ÄÅ„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº„Å®„Å™„Çã)", () => {
                expect(extendedValidObj instanceof Target).toBeFalsy();
            });
            it("guard", () => {
                expect(isTarget(extendedValidObj)).toBeTruthy();
            });
        });
    });
});
```

# ÂèÇËÄÉ

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/typeof

[https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/typeof](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/typeof)  

https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof

[https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/instanceof)  

https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard

[https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard](https://typescript-jp.gitbook.io/deep-dive/type-system/typeguard#yznotype-guard)